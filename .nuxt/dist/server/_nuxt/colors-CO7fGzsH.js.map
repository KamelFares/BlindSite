{"version":3,"file":"colors-CO7fGzsH.js","sources":["../../../../app/pages/colors.vue"],"sourcesContent":["<template>\r\n  <section class=\"colors-page\">\r\n    <header class=\"colors-page__header\">\r\n      <h1 class=\"colors-page__title\">Color Vision Challenge</h1>\r\n      <p class=\"colors-page__lead\">\r\n        This is a simple game inspired by color-blindness tests. In each round,\r\n        one circle has a slightly different color. Try to find it.\r\n      </p>\r\n      <p class=\"colors-page__note\">\r\n        This is <strong>not</strong> a medical test. Real color-vision\r\n        diagnosis must be done by an eye-care professional.\r\n      </p>\r\n    </header>\r\n\r\n    <main class=\"colors-page__main\">\r\n      <section class=\"colors-page__arena\" aria-label=\"Color vision game\">\r\n        <p class=\"colors-page__instructions\">\r\n          Round {{ round }} / {{ totalRounds }} â€” Click the circle that looks\r\n          different.\r\n        </p>\r\n\r\n        <div class=\"colors-grid\">\r\n          <button\r\n            v-for=\"tile in tiles\"\r\n            :key=\"tile.id\"\r\n            type=\"button\"\r\n            class=\"colors-grid__tile\"\r\n            :style=\"{ background: tile.color }\"\r\n            @click=\"handleTileClick(tile)\"\r\n            aria-label=\"Color choice\"\r\n          ></button>\r\n        </div>\r\n\r\n        <div class=\"colors-page__hud\" aria-live=\"polite\">\r\n          <p><strong>Correct:</strong> {{ correct }}</p>\r\n          <p><strong>Wrong:</strong> {{ wrong }}</p>\r\n          <p class=\"colors-page__status\">{{ statusMessage }}</p>\r\n        </div>\r\n      </section>\r\n\r\n      <section class=\"colors-page__info\">\r\n        <h2>What does this show?</h2>\r\n        <p>\r\n          Many color-blind people can see colors, but some shades are hard to\r\n          tell apart. Red and green, or blue and purple, might look almost the\r\n          same. When websites use only color to show important information, it\r\n          can be confusing.\r\n        </p>\r\n        <p>\r\n          Good design adds patterns, icons or text labels so that you do not\r\n          have to rely on color alone.\r\n        </p>\r\n      </section>\r\n    </main>\r\n  </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\n\r\ninterface Tile {\r\n  id: number\r\n  color: string\r\n  isTarget: boolean\r\n}\r\n\r\nconst gridSize = 4\r\nconst totalRounds = 10\r\n\r\nconst round = ref(1)\r\nconst correct = ref(0)\r\nconst wrong = ref(0)\r\nconst statusMessage = ref('Click the circle that looks different from the others.')\r\n\r\nconst tiles = ref<Tile[]>([])\r\n\r\nconst randomBetween = (min: number, max: number) => Math.random() * (max - min) + min\r\n\r\nconst makeRound = () => {\r\n  const baseHue = Math.floor(randomBetween(0, 360))\r\n\r\n  const type = Math.random() < 0.5 ? 'red-green' : 'blue-purple'\r\n\r\n  let baseColor: string\r\n  let targetColor: string\r\n\r\n  if (type === 'red-green') {\r\n    baseColor = `hsl(${baseHue}, 70%, 45%)`\r\n    targetColor = `hsl(${(baseHue + 20) % 360}, 70%, 45%)`\r\n  } else {\r\n    baseColor = `hsl(${baseHue}, 55%, 45%)`\r\n    targetColor = `hsl(${(baseHue + 18) % 360}, 55%, 50%)`\r\n  }\r\n\r\n  const totalTiles = gridSize * gridSize\r\n  const targetIndex = Math.floor(Math.random() * totalTiles)\r\n\r\n  const nextTiles: Tile[] = []\r\n  for (let i = 0; i < totalTiles; i++) {\r\n    nextTiles.push({\r\n      id: i,\r\n      color: i === targetIndex ? targetColor : baseColor,\r\n      isTarget: i === targetIndex,\r\n    })\r\n  }\r\n\r\n  tiles.value = nextTiles\r\n  statusMessage.value = 'Click the circle that looks different from the others.'\r\n}\r\n\r\nconst handleTileClick = (tile: Tile) => {\r\n  if (round.value > totalRounds) {\r\n    statusMessage.value = 'Game over. Refresh the page to play again.'\r\n    return\r\n  }\r\n\r\n  if (tile.isTarget) {\r\n    correct.value++\r\n    statusMessage.value = 'Correct! A new set of colors is coming up.'\r\n  } else {\r\n    wrong.value++\r\n    statusMessage.value = 'This one matches the others. Look again carefully at the next round.'\r\n  }\r\n\r\n  round.value++\r\n  if (round.value <= totalRounds) {\r\n    makeRound()\r\n  } else {\r\n    statusMessage.value += ' You finished all rounds.'\r\n  }\r\n}\r\n\r\nmakeRound()\r\n</script>\r\n\r\n<style scoped>\r\n.colors-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2.5rem;\r\n}\r\n\r\n.colors-page__header {\r\n  display: grid;\r\n  gap: 1rem;\r\n  max-width: 44rem;\r\n}\r\n\r\n.colors-page__title {\r\n  font-size: clamp(2.2rem, 3.5vw, 2.8rem);\r\n}\r\n\r\n.colors-page__lead,\r\n.colors-page__note {\r\n  color: #e5e7eb;\r\n  line-height: 1.6;\r\n}\r\n\r\n.colors-page__main {\r\n  display: grid;\r\n  gap: 2.5rem;\r\n}\r\n\r\n.colors-page__arena {\r\n  max-width: 44rem;\r\n}\r\n\r\n.colors-page__instructions {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.colors-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 4.25rem);\r\n  grid-template-rows: repeat(4, 4.25rem);\r\n  gap: 1rem;\r\n  margin-bottom: 1.25rem;\r\n}\r\n\r\n.colors-grid__tile {\r\n  border-radius: 999px;\r\n  border: 2px solid rgba(15, 23, 42, 0.9);\r\n  cursor: pointer;\r\n  box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.4), 0 4px 20px rgba(0, 0, 0, 0.5);\r\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\r\n}\r\n\r\n.colors-grid__tile:hover,\r\n.colors-grid__tile:focus-visible {\r\n  transform: translateY(-2px) scale(1.03);\r\n  box-shadow: 0 0 0 2px #fbbf24, 0 8px 24px rgba(0, 0, 0, 0.7);\r\n}\r\n\r\n.colors-page__hud {\r\n  font-size: 0.95rem;\r\n  color: #e5e7eb;\r\n}\r\n\r\n.colors-page__status {\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.colors-page__info {\r\n  max-width: 44rem;\r\n  color: #e5e7eb;\r\n  line-height: 1.6;\r\n}\r\n\r\n.colors-page__info h2 {\r\n  font-size: 1.3rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n</style>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderStyle"],"mappings":";;;;;;;;;;;;;;;AAkEA,MAAM,WAAW;AACjB,MAAM,cAAc;;;;;AAEpB,UAAM,QAAQ,IAAI,CAAC;AACnB,UAAM,UAAU,IAAI,CAAC;AACrB,UAAM,QAAQ,IAAI,CAAC;AACnB,UAAM,gBAAgB,IAAI,wDAAwD;AAElF,UAAM,QAAQ,IAAY,EAAE;AAE5B,UAAM,gBAAgB,CAAC,KAAa,QAAgB,KAAK,YAAY,MAAM,OAAO;AAElF,UAAM,YAAY,MAAM;AACtB,YAAM,UAAU,KAAK,MAAM,cAAc,GAAG,GAAG,CAAC;AAEhD,YAAM,OAAO,KAAK,OAAA,IAAW,MAAM,cAAc;AAEjD,UAAI;AACJ,UAAI;AAEJ,UAAI,SAAS,aAAa;AACxB,oBAAY,OAAO,OAAO;AAC1B,sBAAc,QAAQ,UAAU,MAAM,GAAG;AAAA,MAC3C,OAAO;AACL,oBAAY,OAAO,OAAO;AAC1B,sBAAc,QAAQ,UAAU,MAAM,GAAG;AAAA,MAC3C;AAEA,YAAM,aAAa,WAAW;AAC9B,YAAM,cAAc,KAAK,MAAM,KAAK,OAAA,IAAW,UAAU;AAEzD,YAAM,YAAoB,CAAA;AAC1B,eAAS,IAAI,GAAG,IAAI,YAAY,KAAK;AACnC,kBAAU,KAAK;AAAA,UACb,IAAI;AAAA,UACJ,OAAO,MAAM,cAAc,cAAc;AAAA,UACzC,UAAU,MAAM;AAAA,QAAA,CACjB;AAAA,MACH;AAEA,YAAM,QAAQ;AACd,oBAAc,QAAQ;AAAA,IACxB;AAwBA,cAAA;;uBAnIWA,eAAAC,WAAA,EAAA,OAAM,cAAA,GAAa,MAAA,CAAA,otBAgBX,MAAA,KAAK,sBAAS,WAAW;AAMjBC,oBAAA,MAAA,QAAR,SAAI;AAIW,cAAA,0DAAAC,eAAA,EAAA,YAAA,KAAK,MAAA,CAAK,CAAA,uDAAA;AAAA;0KAOF,QAAA,KAAO,kFACT,MAAA,KAAK,sEACD,cAAA,KAAa;;;;;;;;;;;"}