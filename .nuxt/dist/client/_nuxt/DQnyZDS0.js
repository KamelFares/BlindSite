import{f as N,o as v,c as f,a as s,d as u,t as d,F as R,r as V,g as $,h as l,i as m,_ as I}from"./BgeVWdcT.js";const z={class:"blind-touch"},L={class:"blind-touch__header"},X={class:"blind-touch__main"},D={class:"blind-touch__arena","aria-label":"Blind Touch style grid. Click tiles and listen to the sound to find the hidden target."},E=["onMouseenter","onFocus","onClick"],H={class:"grid__tile-label"},O={class:"blind-touch__hud","aria-live":"polite"},G={class:"blind-touch__status"},a=4,P=N({__name:"game",setup(U){const b=l(0),y=l(0),c=l("Click any tile to start guessing. Listen to pitch and left/right pan."),h=l(0),x=m(()=>h.value%a),T=m(()=>Math.floor(h.value/a)),S=m(()=>{const e=[];let t=0;for(let n=0;n<a;n++)for(let o=0;o<a;o++)e.push({id:`${o}-${n}`,index:t,x:o,y:n}),t++;return e}),r=l(null),C=l(!1),k=()=>{r.value||typeof window>"u"||(r.value=new AudioContext,C.value=!0)},p=(e,t,n=.15)=>{if(!r.value)return;const o=r.value,i=o.createOscillator(),g=o.createGain(),_=new StereoPannerNode(o,{pan:e});i.frequency.value=t,g.gain.setValueAtTime(.25,o.currentTime),g.gain.exponentialRampToValueAtTime(1e-4,o.currentTime+n),i.connect(g).connect(_).connect(o.destination),i.start(),i.stop(o.currentTime+n)},w=e=>(e.x/(a-1)-.5)*2,q=e=>{const t=Math.abs(e.x-x.value),n=Math.abs(e.y-T.value);return t+n},M=()=>{const e=a*a;h.value=Math.floor(Math.random()*e),c.value="New target hidden. Listen carefully and try again."},F=e=>{if(!r.value)return;const t=q(e),n=(a-1)*2,_=300+(1-t/n)*500,B=w(e);p(B,_,.12)},A=e=>{b.value++;const t=w(e);if(e.index===h.value){y.value++,c.value="Correct tile! A new hidden tile has been chosen.",p(t,900,.2),M();return}const n=e.x-x.value,o=e.y-T.value;let i="Not this one. ";n<0&&(i+="The target is more to the right. "),n>0&&(i+="The target is more to the left. "),o<0&&(i+="The target is higher up. "),o>0&&(i+="The target is lower down. "),c.value=i.trim(),p(t,220,.18)};return M(),(e,t)=>(v(),f("section",z,[s("header",L,[t[0]||(t[0]=s("h1",{class:"blind-touch__title"},"Blind Touch â€“ Visual Mode",-1)),t[1]||(t[1]=s("p",{class:"blind-touch__lead"}," This is a sound-guided grid. One hidden tile is the target. Use your ears and simple hints to find it. ",-1)),t[2]||(t[2]=s("p",{class:"blind-touch__instructions"},[u(" Click tiles to guess. "),s("strong",null,"Higher pitch"),u(" means you are closer. Sound pans "),s("strong",null,"left/right"),u(" depending on the tile's position. ")],-1)),s("button",{type:"button",class:"blind-touch__sound-btn",onClick:k},d(C.value?"Sound enabled":"Enable sound"),1)]),s("main",X,[s("section",D,[s("div",{class:"grid",onClick:k},[(v(!0),f(R,null,V(S.value,n=>(v(),f("button",{key:n.id,type:"button",class:"grid__tile",onMouseenter:o=>F(n),onFocus:o=>F(n),onClick:$(o=>A(n),["stop"])},[s("span",H,d(n.index+1),1)],40,E))),128))]),s("div",O,[s("p",null,[t[3]||(t[3]=s("strong",null,"Score:",-1)),u(" "+d(y.value),1)]),s("p",null,[t[4]||(t[4]=s("strong",null,"Attempts:",-1)),u(" "+d(b.value),1)]),s("p",G,d(c.value),1)])]),t[5]||(t[5]=s("section",{class:"blind-touch__notes"},[s("h2",null,"Idea behind this mode"),s("p",null," With vision, the grid is easy to scan. In a non-visual version, you would only hear the sounds and hints, building a mental picture from audio instead of sight. ")],-1))])]))}}),Y=I(P,[["__scopeId","data-v-76221d42"]]);export{Y as default};
