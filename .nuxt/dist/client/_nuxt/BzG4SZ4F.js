import{f as k,y as T,l as x,c as M,a as t,d as i,t as o,z as C,A as S,v as g,g as _,h as s,i as V,o as B,_ as $}from"./BgeVWdcT.js";const z={class:"tunnel"},E={class:"tunnel__header"},N={class:"controls","aria-label":"Tunnel vision controls"},D={class:"controls__label",for:"radius"},F={class:"tunnel__main"},I={class:"game","aria-label":"Find the glowing dot"},U={class:"game__top","aria-live":"polite"},A={class:"game__status"},H=k({__name:"tunnel",setup(L){const{cssVars:f}=T(),n=s(170),u=s(0),r=s(0),a=s("Find the glowing dot. Click it."),d=s(50),v=s(50),c=(l,e)=>Math.random()*(e-l)+l,p=()=>{d.value=c(8,92),v.value=c(10,90)},w=()=>{u.value++,a.value="Hit. New target.",p()},y=()=>{r.value++,a.value="Miss. Scan again."},h=()=>{},b=V(()=>({...f.value,"--radius":`${n.value}px`}));return x(()=>{p(),typeof window<"u"&&window.dispatchEvent(new CustomEvent("blindsite:achievement",{detail:{key:"tunnel",text:"Tunnel vision: you opened the tunnel simulation."}}))}),(l,e)=>(B(),M("section",z,[t("header",E,[e[3]||(e[3]=t("h1",{class:"tunnel__title"},"Tunnel Vision (glaucoma / retinitis pigmentosa)",-1)),e[4]||(e[4]=t("p",{class:"tunnel__lead"}," Peripheral vision can fade, leaving a narrow “tunnel”. Try to find and click the highlighted target while your view is restricted. ",-1)),t("div",N,[t("label",D,[e[2]||(e[2]=i(" Tunnel size: ",-1)),t("strong",null,o(n.value),1)]),C(t("input",{id:"radius",class:"controls__range",type:"range",min:"70",max:"260",step:"10","onUpdate:modelValue":e[0]||(e[0]=m=>n.value=m)},null,512),[[S,n.value,void 0,{number:!0}]])]),e[5]||(e[5]=t("p",{class:"tunnel__note"}," Tip: Use your mouse to “scan”. In real life people scan with head/eye movements to compensate. ",-1))]),t("main",F,[t("section",I,[t("div",U,[t("p",null,[e[6]||(e[6]=i("Score: ",-1)),t("strong",null,o(u.value),1),e[7]||(e[7]=i(" | Misses: ",-1)),t("strong",null,o(r.value),1)]),t("p",A,o(a.value),1)]),t("div",{class:"arena",onClick:e[1]||(e[1]=_(m=>y(),["self"])),onMousemove:h,style:g(b.value)},[e[8]||(e[8]=t("div",{class:"mask","aria-hidden":"true"},null,-1)),t("button",{type:"button",class:"target",style:g({left:`${d.value}%`,top:`${v.value}%`}),onClick:_(w,["stop"]),"aria-label":"Target"},null,4),e[9]||(e[9]=t("div",{class:"noise","aria-hidden":"true"},null,-1))],36)])])]))}}),X=$(H,[["__scopeId","data-v-af5bcf25"]]);export{X as default};
