import{f as x,l as k,B as z,c as A,a as t,d as u,t as o,z as M,A as B,v as w,h as a,i as C,o as F,_ as I}from"./BgeVWdcT.js";const S={class:"migraine"},T={class:"migraine__header"},$={class:"controls","aria-label":"Migraine aura controls"},D={class:"controls__label",for:"intensity"},E={class:"migraine__main"},V={class:"game","aria-label":"Keep focus tracking"},q={class:"game__top","aria-live":"polite"},H={class:"game__status"},N=x({__name:"migraine",setup(U){const s=a(6),d=a(0),m=a(0),c=a("Click the moving dot."),v=a(50),g=a(50),l=a(0);let r=null,i=null;const p=(n,e)=>Math.random()*(e-n)+n,_=()=>{v.value=p(10,90),g.value=p(12,88)},y=()=>{m.value++,c.value="Hit.",_()},f=()=>{l.value=(l.value+.6+s.value*.18)%360,i=window.requestAnimationFrame(f)},b=C(()=>{const n=s.value;return{"--aura-opacity":(.06+n/10*.26).toFixed(3),"--aura-rotate":`${l.value}deg`,"--scotoma-size":`${160+n*18}px`}});return k(()=>{_(),r=window.setInterval(()=>{d.value++},1e3),i=window.requestAnimationFrame(f),typeof window<"u"&&window.dispatchEvent(new CustomEvent("blindsite:achievement",{detail:{key:"migraine",text:"Aura: you opened migraine simulation."}}))}),z(()=>{r&&window.clearInterval(r),i&&window.cancelAnimationFrame(i)}),(n,e)=>(F(),A("section",S,[t("header",T,[e[2]||(e[2]=t("h1",{class:"migraine__title"},"Migraine Aura (zig-zag / flashing scotoma)",-1)),e[3]||(e[3]=t("p",{class:"migraine__lead"}," Some migraine auras include shimmering zig-zag patterns and a blind spot. This simulation overlays a moving aura while you try to keep focus on a target. ",-1)),t("div",$,[t("label",D,[e[1]||(e[1]=u("Intensity: ",-1)),t("strong",null,o(s.value),1)]),M(t("input",{id:"intensity",class:"controls__range",type:"range",min:"0",max:"10",step:"1","onUpdate:modelValue":e[0]||(e[0]=h=>s.value=h)},null,512),[[B,s.value,void 0,{number:!0}]])])]),t("main",E,[t("section",V,[t("div",q,[t("p",null,[e[4]||(e[4]=u("Time: ",-1)),t("strong",null,o(d.value),1),e[5]||(e[5]=u("s | Hits: ",-1)),t("strong",null,o(m.value),1)]),t("p",H,o(c.value),1)]),t("div",{class:"arena",style:w(b.value)},[e[6]||(e[6]=t("div",{class:"aura","aria-hidden":"true"},null,-1)),e[7]||(e[7]=t("div",{class:"scotoma","aria-hidden":"true"},null,-1)),t("button",{type:"button",class:"dot",style:w({left:`${v.value}%`,top:`${g.value}%`}),onClick:y,"aria-label":"Moving target"},null,4)],4)])])]))}}),X=I(N,[["__scopeId","data-v-9e527370"]]);export{X as default};
